<template>
  <div class="root">
    <!-- ç™»å½•é¡µé¢èƒŒæ™¯åŠ¨ç”» -->
    <vue-particles
      class="bg-root"
      id="tsparticles"
      @particles-loaded="particlesLoaded"
      :options="particlesOptions"
    />
    <div class="login-card">
      <div class="title">ç™»å½•å¾®ä¿¡</div>

      <input
        v-model="username"
        class="marginbottom10 username"
        type="text"
        placeholder="è¯·è¾“å…¥ç”¨æˆ·å"
      />
      <input
        v-model="password"
        class="marginbottom10 password"
        type="password"
        placeholder="è¯·è¾“å…¥å¯†ç "
      />

      <button class="login" @click="clickLogin">ç™»å½•</button>
    </div>
  </div>
</template>
<script setup lang="ts">
import { ref } from "vue";
import { useRouter } from "vue-router"; 

// ç”¨æˆ·åå’Œå¯†ç 
const username = ref("");
const password = ref("");

const router = useRouter();
// å®šä¹‰ç”¨æˆ·æ•°ç»„
const userArray = [
  {
    username: "xupeilin",
    password: "123",
  },
  {
    username: "zhuziyang",
    password: "456",
  },
];

// ç‚¹å‡»ç™»å½•æŒ‰é’®
const clickLogin = () => {
  console.log("ç™»å½•, ç”¨æˆ·å:", username.value, "å¯†ç :", password.value);
  // éå†æ•°ç»„,æ£€æŸ¥ç”¨æˆ·åå’Œå¯†ç æ˜¯å¦æ­£ç¡®
  userArray.forEach((item) => {
    if (item.username == username.value && item.password == password.value) {
      console.log("ç™»å½•æˆåŠŸ");
      router.push("/chat");
    }
  });
};

// åŠ¨ç”»åŠ è½½å®Œæ¯•è§¦å‘è¿™ä¸ªæ–¹æ³•
const particlesLoaded = () => {
  console.log("particlesLoaded");
};

// åŠ¨ç”»çš„é…ç½®
const particlesOptions = {
  fullScreen: {
    zIndex: 1,
  },
  emitters: [
    {
      position: {
        x: 0,
        y: 30,
      },
      rate: {
        quantity: 5,
        delay: 0.15,
      },
      particles: {
        move: {
          direction: "top-right",
          outModes: {
            top: "none",
            left: "none",
            default: "destroy",
          },
        },
      },
    },
    {
      position: {
        x: 100,
        y: 30,
      },
      rate: {
        quantity: 5,
        delay: 0.15,
      },
      particles: {
        move: {
          direction: "top-left",
          outModes: {
            top: "none",
            right: "none",
            default: "destroy",
          },
        },
      },
    },
  ],
  particles: {
    color: {
      value: ["#ffffff", "#FF0000"],
    },
    move: {
      decay: 0.05,
      direction: "top",
      enable: true,
      gravity: {
        enable: true,
      },
      outModes: {
        top: "none",
        default: "destroy",
      },
      speed: {
        min: 10,
        max: 50,
      },
    },
    number: {
      value: 0,
    },
    opacity: {
      value: 1,
    },
    rotate: {
      value: {
        min: 0,
        max: 360,
      },
      direction: "random",
      animation: {
        enable: true,
        speed: 30,
      },
    },
    tilt: {
      direction: "random",
      enable: true,
      value: {
        min: 0,
        max: 360,
      },
      animation: {
        enable: true,
        speed: 30,
      },
    },
    size: {
      value: {
        min: 0,
        max: 2,
      },
      animation: {
        enable: true,
        startValue: "min",
        count: 1,
        speed: 16,
        sync: true,
      },
    },
    roll: {
      darken: {
        enable: true,
        value: 25,
      },
      enable: true,
      speed: {
        min: 5,
        max: 15,
      },
    },
    wobble: {
      distance: 30,
      enable: true,
      speed: {
        min: -7,
        max: 7,
      },
    },
    shape: {
      type: ["circle", "square", "triangle", "polygon", "emoji", "image"],
      options: {
        polygon: [
          {
            sides: 5,
          },
          {
            sides: 6,
          },
        ],
        emoji: {
          particles: {
            size: {
              value: 8,
            },
          },
          value: ["ğŸ’©", "ğŸ¤¡", "ğŸ€", "ğŸ™", "ğŸ¦„", "â­ï¸"],
        },
        image: [
          {
            src: "https://particles.js.org/images/fruits/apple.png",
            width: 32,
            height: 32,
            particles: {
              size: {
                value: 16,
              },
            },
          },
          {
            src: "https://particles.js.org/images/fruits/avocado.png",
            width: 32,
            height: 32,
            particles: {
              size: {
                value: 16,
              },
            },
          },
          {
            src: "https://particles.js.org/images/fruits/banana.png",
            width: 32,
            height: 32,
            particles: {
              size: {
                value: 16,
              },
            },
          },
          {
            src: "https://particles.js.org/images/fruits/berries.png",
            width: 32,
            height: 32,
            particles: {
              size: {
                value: 16,
              },
            },
          },
          {
            src: "https://particles.js.org/images/fruits/cherry.png",
            width: 32,
            height: 32,
            particles: {
              size: {
                value: 16,
              },
            },
          },
          {
            src: "https://particles.js.org/images/fruits/grapes.png",
            width: 32,
            height: 32,
            particles: {
              size: {
                value: 16,
              },
            },
          },
          {
            src: "https://particles.js.org/images/fruits/lemon.png",
            width: 32,
            height: 32,
            particles: {
              size: {
                value: 16,
              },
            },
          },
          {
            src: "https://particles.js.org/images/fruits/orange.png",
            width: 32,
            height: 32,
            particles: {
              size: {
                value: 16,
              },
            },
          },
          {
            src: "https://particles.js.org/images/fruits/peach.png",
            width: 32,
            height: 32,
            particles: {
              size: {
                value: 16,
              },
            },
          },
          {
            src: "https://particles.js.org/images/fruits/pear.png",
            width: 32,
            height: 32,
            particles: {
              size: {
                value: 16,
              },
            },
          },
          {
            src: "https://particles.js.org/images/fruits/pepper.png",
            width: 32,
            height: 32,
            particles: {
              size: {
                value: 16,
              },
            },
          },
          {
            src: "https://particles.js.org/images/fruits/plum.png",
            width: 32,
            height: 32,
            particles: {
              size: {
                value: 16,
              },
            },
          },
          {
            src: "https://particles.js.org/images/fruits/star.png",
            width: 32,
            height: 32,
            particles: {
              size: {
                value: 16,
              },
            },
          },
          {
            src: "https://particles.js.org/images/fruits/strawberry.png",
            width: 32,
            height: 32,
            particles: {
              size: {
                value: 16,
              },
            },
          },
          {
            src: "https://particles.js.org/images/fruits/watermelon.png",
            width: 32,
            height: 32,
            particles: {
              size: {
                value: 16,
              },
            },
          },
          {
            src: "https://particles.js.org/images/fruits/watermelon_slice.png",
            width: 32,
            height: 32,
            particles: {
              size: {
                value: 16,
              },
            },
          },
        ],
      },
    },
  },
};
</script>

<style scoped>
.bg-root {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
.login-card {
  width: 400px;
  height: 400px;
  border-radius: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  z-index: 999;
}

.root {
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  background-color: #000;
}
.marginbottom10 {
  margin-bottom: 10px;
}
.username {
  width: 80%;
  height: 40px;
  padding: 0 10px;
  box-sizing: border-box;
  border: none;
  border-bottom: 2px solid #fff;
  border-radius: 2px;
  background-color: #000;
  color: #fff;
}
.username:focus {
  /* è¾“å…¥æ¡†è·å–ç„¦ç‚¹ä¹‹åéšè—4ä¸ªè¾¹æ¡† */
  outline: none;
  border-bottom: 2px solid #00f; /* æ”¹å˜è¾¹æ¡†é¢œè‰²ä¸ºè“è‰² */
}
.username:hover {
  /* è¾“å…¥æ¡†è·å–ç„¦ç‚¹ä¹‹åéšè—4ä¸ªè¾¹æ¡† */
  outline: none;
  border-bottom: 2px solid #00f; /* æ”¹å˜è¾¹æ¡†é¢œè‰²ä¸ºè“è‰² */
}

.password {
  width: 80%;
  height: 40px;
  padding: 0 10px;
  box-sizing: border-box;
  border: none;
  border-bottom: 2px solid #fff;
  border-radius: 2px;
  background-color: #000;
  color: #fff;
}
.password:hover {
  /* è¾“å…¥æ¡†è·å–ç„¦ç‚¹ä¹‹åéšè—4ä¸ªè¾¹æ¡† */
  outline: none;
  border-bottom: 2px solid #ef4d12; /* æ”¹å˜è¾¹æ¡†é¢œè‰²ä¸ºè“è‰² */
}
.password:focus {
  /* è¾“å…¥æ¡†è·å–ç„¦ç‚¹ä¹‹åéšè—4ä¸ªè¾¹æ¡† */
  outline: none;
  border-bottom: 2px solid #ef4d12; /* æ”¹å˜è¾¹æ¡†é¢œè‰²ä¸ºè“è‰² */
}
.login {
  width: 80%;
  height: 40px;
  background-color: #0d69ea;
  color: #fff;
  border: none;
  border-radius: 2px;
  cursor: pointer;
  margin-top: 30px;
  font-weight: bold;
}
.login:hover {
  background-color: #072dd9;
}
.title {
  font-size: 20px;
  font-weight: bold;
  margin-bottom: 20px;
  color: #fff;
}
</style>
